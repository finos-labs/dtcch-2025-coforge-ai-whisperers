<div class="page-container">
    <nav class="navbar">
        <div class="navbar-left">
            <img src="assets/coforge.png" alt="Logo 1" class="navbar-logo" />
            <img src="assets/QuasarLogo.png" alt="Logo 2" class="navbar-logo" />
            <span class="navbar-divider">|</span>
            <span class="navbar-text">DTCC Hackathon</span>
        </div>
    </nav>

    <div class="main-content">
        <div class="box large-box">
            <h2 class="corporate-actions-title">Corporate Actions</h2>
            <div class="action-list-container">
                <div class="action-list">
                    <ul>
                        <li *ngFor="let action of corporateActions" (click)="selectAction(action)" [class.selected]="isSelected(action)">
                            {{ action }}
                            <div class="action-indicator" *ngIf="isSelected(action)"></div>
                        </li>
                    </ul>
                </div>
            </div>
            <!-- Stylish Scrollable Table -->
            <!-- Corporate Actions Table -->
<div class="table-container">
    <table class="styled-table">
        <thead>
            <tr>
                <th>Date</th>
                <th>Company</th>
                <th>Corporate Action</th>
                <th>Announcement Date</th>
                <th>Source</th>
                <th>Extracted Info</th>
                <th>Verification</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let row of filteredData">
                <td>{{ row.dateTime }}</td>
                <td>{{ row.company }}</td>
                <td>{{ row.action }}</td>
                <td>{{ row.announcementDate }}</td>
                <td>{{ row.source }}</td>
                <td>
                    <button (click)="showExtractedInfo(row.extractedInfo, row)" class="info-button">
                        Details
                    </button>
                </td>
                <td>{{ row.verification }}</td>
            </tr>
        </tbody>
    </table>
</div>


<!-- Second Table for Extracted Info -->
<div *ngIf="selectedExtractedInfo" class="extracted-info-container">
    <h3>Extracted Information</h3>
    <table class="extracted-info-table">
        <thead>
            <tr>
                <th>Field</th>
                <th>Value</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let item of parsedExtractedInfo; let i = index">
                <td>{{ item.key }}</td>
                <td>
                    <input type="text" [(ngModel)]="parsedExtractedInfo[i].value" class="editable-input" />
                </td>
            </tr>
        </tbody>
    </table>
    <div class="button-container">
        <!-- Source Button -->
        <!-- Source Button with Click Handler -->
        
        <button class="source-btn" (click)="openSourceLink(currentSelectedRow.source)">Source</button>    
        <!-- Submit Button -->
        <button class="submit-btn" (click)="submitEditedInfo()">Submit</button>
    </div>
</div>

        </div>
    </div>

    <div class="footer">@Coforge, 2025</div>
</div>